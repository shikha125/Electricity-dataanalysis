<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Main - Data Analysis App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-dark.min.css" rel="stylesheet">
</head>
<body style="background-color: #cce7ff;" class="p-5">
  <div class="container shadow p-4 rounded bg-dark text-white">
    <h1 class="mb-4 text-center text-primary">Upload CSV file for Analysis & Visualization</h1>

    <!-- Upload form -->
    <form method="POST" enctype="multipart/form-data" class="mb-4 row g-3 align-items-center justify-content-center">
      {% csrf_token %}
      <div class="col-auto">
        <label for="fileInput" class="form-label visually-hidden">Upload CSV</label>
        {{ upload_form.file }}
      </div>
      <div class="col-auto">
        <button class="btn btn-primary btn-lg px-4">Upload</button>
      </div>
    </form>

    {% if error %}
      <div class="alert alert-danger text-center">{{ error }}</div>
    {% endif %}
    
    {% if total_shape %}
      <div class="alert alert-info text-center">{{ total_shape }}</div>
    {% endif %}

    {% if duplicated_rows_count is not none %}
      <h4>Duplicated Rows Count</h4>
      <p class="alert alert-info text-center">{{ duplicated_rows_count }}</p>
    {% endif %}

    <div class="d-flex justify-content-center gap-3 mt-4">
      <a href="{% url 'cleaning' %}" class="btn btn-warning btn-lg">Data Cleaning</a>
      <a href="{% url 'visualization' %}" class="btn btn-success btn-lg">Data Visualization</a>
    </div>
  </div>
</body>
</html>
